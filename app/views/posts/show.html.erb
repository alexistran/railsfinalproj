<!DOCTYPE html>
<html>
<body>

<div class="background">
  
  <p>
    <strong>Title:</strong>
    <%= @post.title %>
  </p>
   
  <p>
    <strong>Text:</strong>
    <%= @post.text %>
  </p>

  <h2>Comments</h2>
  <% @post.comments.each do |comment| %>
    <p>
      <strong>Commenter:</strong>
      <%= comment.commenter %>
    </p>
   
    <p>
      <strong>Comment:</strong>
      <%= comment.body %>
    </p>

    <p>
    <%= link_to 'Destroy Comment', [comment.post, comment],
                 method: :delete,
                 data: { confirm: 'Are you sure?' } %>
    </p>

  <% end %>

  <% if @post.comments.errors.any? %>
      <div id="error_explanation">
        <h2>
          <%= pluralize(@post.comments.errors.count, "error") %> prohibited
          this post from being saved:
        </h2>
        <ul>
          <% @post.comments.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>


  <h2>Add a comment:</h2>
  <%= form_for([@post, @post.comments.build]) do |f| %>
    <p>
      <%= f.label :commenter %><br>
      <%= f.text_field :commenter %>
    </p>
    <p>
      <%= f.label :body %><br>
      <%= f.text_area :body %>
    </p>
    <p>
      <%= f.submit %>
    </p>
  <% end %>

  <%= link_to 'Edit', edit_post_path(@post) %>
  <%= link_to 'Back', :back %>


</div>

</body>
</html>
